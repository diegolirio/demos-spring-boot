# Set environment variable for access token
@token = ""

# Login
POST http://localhost:8080/realms/Leilao/protocol/openid-connect/token
Content-Type: application/x-www-form-urlencoded

client_id=leilao_app&username=diegolirio&password=123456&grant_type=password

###
HTTP/1.1 200 OK
Content-Type: application/json
{
  "access_token": "<YOUR_TOKEN>"
}
###

# Set access token in environment variable
@token = {{access_token}}

# GET Products
GET http://localhost:8081/products
Content-Type: application/json
#Authorization: Basic username password
#Authorization: Bearer {{token}}
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJVR1Y3emtEOTVJckpiQWRIazJQdlA4TUk1UGotbnAtVEwxRndIbThYaWVNIn0.eyJleHAiOjE3MDkzODQ1MTQsImlhdCI6MTcwOTM4NDIxNCwianRpIjoiOWVjZmJmYmQtODBmMi00NmI4LWEzZWItMWI1ZTg4NjdhMzIwIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3JlYWxtcy9MZWlsYW8iLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiZmZkNjg4YWQtY2U5Yi00ODViLWJiMjUtZjgzMWIzYjA4ZGQ0IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoibGVpbGFvX2FwcCIsInNlc3Npb25fc3RhdGUiOiI0NGJlYzcxOS0wOTNhLTRjNDctOTdmYy04OGEzMDZiOGE3NzgiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIi8qIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsImRlZmF1bHQtcm9sZXMtbGVpbGFvIiwidW1hX2F1dGhvcml6YXRpb24iLCJVU0VSIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJlbWFpbCBwcm9maWxlIiwic2lkIjoiNDRiZWM3MTktMDkzYS00YzQ3LTk3ZmMtODhhMzA2YjhhNzc4IiwiZW1haWxfdmVyaWZpZWQiOnRydWUsIm5hbWUiOiJEaWVnbyBMaXJpbyIsInByZWZlcnJlZF91c2VybmFtZSI6ImRpZWdvbGlyaW8iLCJnaXZlbl9uYW1lIjoiRGllZ28iLCJmYW1pbHlfbmFtZSI6IkxpcmlvIiwiZW1haWwiOiJkaWVnb2xpcmlvLmRsQGdtYWlsLmNvbSJ9.qz4V0EaWEb4S3lWaB_J0Qnh2ylaTLgtmEmRkW7JaORWXrrnWKz-yt_L4L-IaF_DXuXvp6captFrMR-DnZT-S0BoKIujnA8yRKdn1Ipk7dqPf7FzjWxaHUj_VjhZv9l36Uwrht-ZPSlSXJbn0BAEzxOCaXTnfS-RIyLm9YGEFvPRrUw7X-9Su8fjg-OWh9VnEa_4gno4froqGXc18ykPMuT7QprA1TILrgFLzHi4cW5ixvB6uv5YGNB2CpQ9-3qhPaE4yOANXhf8kQWBQaNHeNP5TFuKJlxkT5GAdLTSxMGuSS2qtOXE1geDl26-E5za2Yw5ZkvWwtLMZ9tG3gd1PsQ